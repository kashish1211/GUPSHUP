{% extends "blog/base.html" %}
{% load static %}

{% block carousel %}
{% include 'blog/carousel.html' %}
{% endblock carousel %}

{% block content %}
    {% for post in posts|slice:"{{ page_obj.paginator.count }}-1::-1"%}
    {% if post.is_appropriate %}
    <article class="entry">

			<div class="entry-img">
			<img src="assets/img/blog/blog-1.jpg" alt="" class="img-fluid">
			</div>

			<h2 class="entry-title">
			<a href="{% url 'post-detail' post.slug %}">{{ post.title }}</a>
			</h2>

			<div class="entry-meta">
			<ul>
				<li class="d-flex align-items-center"><i class="icofont-user"></i> <a href="{% url 'user-posts' post.author.username %}">{{ post.author }}</a></li>
				<li class="d-flex align-items-center"><i class="icofont-wall-clock"></i> <a href="blog-single.html"><time datetime="">{{ post.date_posted|date:"F d, Y" }}</time></a></li>
				{% comment %} <li class="d-flex align-items-center"><i class="icofont-comment"></i> <a href="blog-single.html">12 Comments</a></li> {% endcomment %}
			</ul>
			</div>

			<div class="entry-content">
			<p>
            {% if post.content|length > 170%}
				{{ post.content|slice:":170"| safe }}...
            {% else %}
                {{ post.content|slice:":170"| safe }}
            {% endif %}
			</p>
			<div class="read-more">
				<a href="blog-single.html">Read More</a>
			</div>
			</div>

		</article><!-- End blog entry -->
        {% endif %}
	{%endfor%}



{% if is_paginated%}
<div class="blog-pagination">
			<ul class="justify-content-center">
		{% if page_obj.has_previous %}
    <li><a href="?page=1">1</a></li>
            <li ><a href="?page={{ page_obj.previous_page_number }}"><i class="icofont-rounded-left"></i></a></li>
			
		{% endif %}

		{% for num in page_obj.paginator.page_range %}

			{% if page_obj.number == num %}
                    <li><a href="?page={{ num }}">{{ num }}</a></li>
				
			{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3'%}
            <li><a href="?page={{ num }}">{{ num }}</a></li>
				
			{% endif %}

		{% endfor %}

		{% if page_obj.has_next %}
			
            <li><a href="?page={{ page_obj.next_page_number }}"><i class="icofont-rounded-right"></i></a></li>
			<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
		{% endif %}

	{% endif %}

		{% comment %} <div class="blog-pagination">
			<ul class="justify-content-center">
			<li class="disabled"><i class="icofont-rounded-left"></i></li>
			<li><a href="#">1</a></li>
			<li class="active"><a href="#">2</a></li>
			<li><a href="#">3</a></li>
			<li><a href="#"><i class="icofont-rounded-right"></i></a></li>
			</ul>
        </div> {% endcomment %}



          

        
 
  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  




{% endblock content %}

