{% extends "blog/base.html" %}
{%block carousel%}
{% load crispy_forms_tags%}

<style>
#ip2 {
    border-radius: 25px;
    border: 2px solid #98ded9;
    padding: 20px; 
    width: 700px;
    height: 15px;
	text-align: center;    
}

</style>





{% comment %} second navbar {% endcomment %}
<div class="container-fluid" style="background-color: #c7ffd8">
		<div class="nav-scroller py-0 my-0 ">
			<nav class="nav d-flex justify-content-between">
			<a class="p-2 " style="color: #1e212d" href="#">World</a>
			<a class="p-2 " style="color: #1e212d" href="#">U.S.</a>
			<a class="p-2 " style="color: #1e212d" href="#">Technology</a>
			<a class="p-2 " style="color: #1e212d" href="#">Technology</a>
			<a class="p-2 " style="color: #1e212d" href="#">Design</a>
			<a class="p-2 " style="color: #1e212d" href="#">Culture</a>
			<a class="p-2 " style="color: #1e212d" href="#">Business</a>
			<a class="p-2 " style="color: #1e212d" href="#">Politics</a>
			<a class="p-2 " style="color: #1e212d" href="#">Opinion</a>
			<a class="p-2 " style="color: #1e212d" href="#">Science</a>
			<a class="p-2 " style="color: #1e212d" href="#">Health</a>
			<a class="p-2 " style="color: #1e212d" href="#">Style</a>
			<a class="p-2 " style="color: #1e212d" href="#">Travel</a>
			</nav>
		</div>
		<hr>
		</div>



	<div class="container-fluid px-0 ">
   <div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner ">
    <div class="carousel-item active ">
      <img src="https://source.unsplash.com/1600x500/?nature,water" class="d-block w-100 py-0 my-0" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://source.unsplash.com/1600x500/?nature,water" class="d-block w-100 py-0 my-0" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://source.unsplash.com/1600x500/?nature,water" class="d-block w-100 py-0 my-0" alt="...">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators " role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
  </div>
  
<div class="container-fluid px-0 mx-0 my-0 py-0 mb-3">

	<div class="alert alert-secondary my-0 py-0 " role="alert">

  <marquee  class="my-0 py-0"><p class="my-0 py-0" style="font-family: Impact; font-size: 15pt "> 
  <div  style="white-space: nowrap">
  {% for post in posts|slice:"::-1"%}
  <i class="fa fa-lightbulb-o" style="font-size:24px; color:red;"></i> 
 
			    <span ><a href="{% url 'post-detail' post.id %}" style="color: #1e212d; text-decoration: none" >{{ post.title }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </a>  </span>
		    
			
	{%endfor%}
	</div>
	</marquee>	

	</div>
</div>
	
	{% endblock %}
{% block content %}


<article class="media content-section">	    
				<!-- Button trigger modal -->
			<input type="text" id="ip2" data-toggle="modal" data-target="#exampleModal" placeholder="What is on your Mind? (Type Here)"/>


			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Post Something</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form method='POST'>
					<div class="form-group">
					{% csrf_token %}
						<label for="title" class="col-form-label">Title</label>
						<input type="text" name='title' class="form-control" id="title">
					</div>
					<div class="form-group">
						<label for="content" class="col-form-label">Content</label>
						<textarea class="form-control" name='content' id="content"></textarea>
					</div>
					<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="submit" class="btn btn-primary">Post</button>
					</div>
					</form>
				</div>
				
				</div>
			</div>
			</div>
				

		</article>



	{% for post in posts|slice:"::-1"%}
		<article class="media content-section">
			<img class="rounded-circle article-img "src = {{post.author.profile.image.url}}>
		    <div class="media-body">
			    <div class="article-metadata">
			      <a class="mr-2" href="{% url 'user-posts' post.author.username %}">{{ post.author }}</a>
			      <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small>
			    </div>
			    <h2><a class="article-title" href="{% url 'post-detail' post.id %}">{{ post.title }}</a></h2>
			    <p class="article-content">{{ post.content }}</p>
			</div>
		</article>
	{%endfor%}

	{% if is_paginated%}
		{% if page_obj.has_previous %}
			<a class="btn btn-outline-info mb-4" href="?page=1">First</a>
			<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
		{% endif %}

		{% for num in page_obj.paginator.page_range %}

			{% if page_obj.number == num %}

				<a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
			{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3'%}
				<a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
			{% endif %}

		{% endfor %}

		{% if page_obj.has_next %}
			<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
			<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
		{% endif %}

	{% endif %}
{% endblock content %}

{% block script %}
<script>
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }
</script>

{% endblock script %}





